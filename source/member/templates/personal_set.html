<header-bar back title="设置"></header-bar>

<section class="mod_scroll">
    <ul class="unit_owner_set">
        <li class="no">
            <p>昵称</p>
            <p>{{inputVal.nickname}}</p>
        </li>
        <li show-popup="gender">
            <p>性别</p>
            <p>{{inputVal.gender}}</p>
        </li>
        <li show-popup="post">
            <p>岗位</p>
            <p>{{inputVal.post}}</p>
        </li>
        <li show-popup="location">
            <p>地区</p>
            <p>{{inputVal.city.Name}} {{inputVal.village.Name}}</p>
        </li>
        <li>
            <p>订阅</p>
            <p>教案  计划  总结</p>
        </li>
        <li>
            <p>账号绑定</p>
            <p></p>
        </li>
        <li page-jump="goPassword">
            <p>修改密码</p>
            <p></p>
        </li>
    </ul>

    <ul class="unit_owner_push">
        <li>
            <div>消息推送</div>
            <a ng-click="switchCtrl('isMsgPush')" ng-class="{close:!personalData.isMsgPush,open:personalData.isMsgPush}" class="on_off"></a>
        </li>
        <li>
            <div>只允许我关注的人跟我私聊</div>
            <a ng-click="switchCtrl('isFocusOnly')" ng-class="{close:!personalData.isFocusOnly,open:personalData.isFocusOnly}" class="on_off"></a>
        </li>
        <li>
            <div>允许通过手机通讯录加我好友</div>
            <a ng-click="switchCtrl('isTelAllow')" ng-class="{close:!personalData.isTelAllow,open:personalData.isTelAllow}" class="on_off"></a>
        </li>
        <li>
            <div>保存图片到相册</div>
            <a ng-click="switchCtrl('isPhotoSave')" ng-class="{close:!personalData.isPhotoSave,open:personalData.isPhotoSave}" class="on_off"></a>
        </li>
        <li>
            <div>关于师乐汇</div>
        </li>
        <li>
            <div>清除图片缓存</div>
        </li>
        <li>
            <div>意见反馈</div>
        </li>
    </ul>

    <div class="unit_btn">退出登录</div>
</section>

<popup id="gender" title="选择性别" ng-init="tmpGender = inputVal.gender" popup-confirm="chooseGender(tmpGender)">
    <div class="choose_gender">
        <span ng-click="tmpGender = '女'">
            <input name="gender" ng-checked="tmpGender == '女'" type="radio">
            <label>女</label>
        </span>
        <span ng-click="tmpGender = '男'">
            <input name="gender" ng-checked="tmpGender == '男'" type="radio">
            <label>男</label>
        </span>
    </div>
</popup>

<popup id="post" title="选择岗位" popup-confirm="choosePost">
    <div class="choose_post" ngd-click="choosePost($event)" selector="li">
        <ul>
            <li>
                <input ng-checked="tmpPost == '园长'" name="post" type="radio">
                <label>园长</label>
            </li>
            <li>
                <input ng-checked="tmpPost == '保教主任'" name="post" type="radio">
                <label>保教主任</label>
            </li>
            <li>
                <input ng-checked="tmpPost == '教师'" name="post" type="radio">
                <label>教师</label>
            </li>
            <li>
                <input ng-checked="tmpPost == '其他'" name="post" type="radio">
                <label>其他</label>
            </li>
        </ul>
    </div>
</popup>

<popup id="location" title="选择地区" popup-confirm="popupLocation">
    <div class="choose_location" ngd-click="chooseLocation($event)" selector="li">
        <div class="select_box">
            <ul>
                <li ng-class="{current:v.Id == inputVal.city.Id}" data-city="{{v}}" ng-repeat="(k, v) in cityList track by $index">{{v.Name}}</li>
            </ul>
        </div>
        <div class="select_box">
            <ul>
                <li ng-class="{current:v.Id == inputVal.village.Id}" data-village="{{v}}" ng-repeat="(k, v) in villageList track by $index">{{v.Name}}</li>
            </ul>
        </div>
    </div>
</popup>