<!DOCTYPE html>
<html ng-app="phoneApp">
<head>
    <meta charset="utf-8" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>API</title>
    <link rel="stylesheet" type="text/css" href="themes.css" />
</head>
<body>
    <h1>其他相关接口定义</h1>


    <!---------------------------------------------------->
    <h2>1.聊天接口定义</h2>
    <h3>接口名称：getListChat</h3>
    <h4>postData:</h4>
    <pre>
    {   
        <i>
        /*
        * 如果主人ID为空，该列表直接返回空数据（主人ID就是Header里面的UserID）
        */
        </i>
        UserId: <i>//-------对方的用户ID</i>

        PageIndex: <i>//----当前页码</i>
        PageSize: <i>//-----每页显示多少条记录</i>

        FromId: <i>//-------小的聊天信息ID（不是UserId）</i>
        ToId: <i>//---------大的聊天信息ID（不是UserId）</i>

        Pull: <i>//--需要拉取数据状态（True/False）,True: 是拉取新的记录,False: 是拉取历史记录</i>

        Header: {
            UserId: <i>//---当前登录用户ID（未登录传空）</i>
            Auth: <i>//-----当前登录用户Auth（未登录传空）</i>
        }
    }
    </pre>

    <h4>getData:</h4>
    <pre>
    {   
        <i>这里只有两个用户的信息</i>
        UserInfo: [
            {
                UserId: <i>//------聊天发表时间</i>
                UserImage: <i>//---用户头像</i>
                Username: <i>//----用户名称</i>
            }
        ]



        ChatList: [
            {   
                ChatId: <i>//------聊天记录ID</i>
                UpdateTime: <i>//--聊天发表时间</i>
                Message: <i>//-----聊天内容</i>
                Sender: <i>//------发送该聊天信息的UserID</i>
            }
        ]
        
        <i>此处格式固定，服务器返回验证数据</i>
        Response: {
            Time: <i>//------------服务器当前时间</i>
            State: <i>//-----------用户登录状态（True：用户登录成功；False：用户登录失败或者未登录）</i>
            Ack: <i>//-------------记录提交返回的状态（Success、Failure）</i>
        }
    }
    </pre>



    <!---------------------------------------------------->
    <h2>2.是否有最新 信息 的接口</h2>
    <em>这个接口是需要用户登录信息的，没登录信息不用返回数据</em>
    <h3>接口名称：getMsgNews</h3>
    <h4>postData:</h4>
    <pre>
    {   
        <i>
        /*
        * 根据Header.UserId 来获取当前登录用户的一些相关消息
        */
        </i>
        Header: {
            UserId: <i>//--当前登录用户ID（未登录传空）</i>
            Auth: <i>//----当前登录用户Auth（未登录传空）</i>
        }
    }
    </pre>

    <h4>getData:</h4>
    <pre>
    {   
        isPraise: <i>//---是否有发表的帖子被赞：True/False</i>
        isComment: <i>//--你发表的帖子是否被评论：True/False</i>
        isNotice: <i>//---是否有个官方发布的通知消息: True/False</i>
        isTalk: <i>//-----是否有人给你发消息: True/False</i>
        
        <i>此处格式固定，服务器返回验证数据</i>
        Response: {
            Time: <i>//---服务器当前时间</i>
            State: <i>//--用户登录状态（True：用户登录成功；False：用户登录失败或者未登录）</i>
            Ack: <i>//----记录提交返回的状态（Success、Failure）</i>
        }
    }
    </pre>



    <!---------------------------------------------------->
    <h2>3.消息 赞 的接口</h2>
    <em>这个接口是需要用户登录信息的，没登录信息不用返回数据</em>
    <h3>接口名称：getMsgPraise</h3>
    <h4>postData:</h4>
    <pre>
    {   
        <i>
        /*
        * 根据Header.UserId 来获取当前登录用户的一些相关消息
        */
        </i>
        Header: {
            UserId: <i>//---当前登录用户ID（未登录传空）</i>
            Auth: <i>//-----当前登录用户Auth（未登录传空）</i>
        }
    }
    </pre>

    <h4>getData:</h4>
    <pre>
    {   
        PraiseList: [
            Author: {
                UserId: <i>//----用户ID</i>
                UserName: <i>//--用户名</i>
                ImageUrl: <i>//--用户头像</i>
            }
            Title: <i>//---------帖子名称</i>
            ImageUrl: <i>//------帖子图片</i>

            isRead: <i>//--------是否已读(True/False)</i>
        ]
        Total: <i>//-------------总条数</i>
        
        <i>此处格式固定，服务器返回验证数据</i>
        Response: {
            Time: <i>//----------服务器当前时间</i>
            State: <i>//---------用户登录状态（True：用户登录成功；False：用户登录失败或者未登录）</i>
            Ack: <i>//-----------记录提交返回的状态（Success、Failure）</i>
        }
    }
    </pre>



    <!---------------------------------------------------->
    <h2>4.消息 评论 的接口</h2>
    <em>这个接口是需要用户登录信息的，没登录信息不用返回数据</em>
    <h3>接口名称：getMsgComment</h3>
    <h4>postData:</h4>
    <pre>
    {   
        <i>
        /*
        * 根据Header.UserId 来获取当前登录用户的一些相关消息
        */
        </i>
        Header: {
            UserId: <i>//---当前登录用户ID（未登录传空）</i>
            Auth: <i>//-----当前登录用户Auth（未登录传空）</i>
        }
    }
    </pre>

    <h4>getData:</h4>
    <pre>
    {   
        CommentList: [
            {
                CommentId: <i>//------评论ID</i>

                Article: {
                    ArticleId: <i>//--评论关联的帖子ID</i>
                    ImageUrl: <i>//---帖子图片（取第一张）</i>
                }
                
                Author: {
                    UserId: <i>//-----评论发布者ID</i>
                    ImageUrl: <i>//---评论发布者头像</i>
                    UserName: <i>//---评论发布者名称</i>
                }

                isRead: <i>//---------是否已读(True/False)</i>

                UpdateTime: <i>//-----评论更新时间</i>
                Content: <i>//--------评论内容</i>
            }
        ]
        Total: <i>//------------------评论总数</i>
        
        <i>此处格式固定，服务器返回验证数据</i>
        Response: {
            Time: <i>//---------------服务器当前时间</i>
            State: <i>//--------------用户登录状态（True：用户登录成功；False：用户登录失败或者未登录）</i>
            Ack: <i>//----------------记录提交返回的状态（Success、Failure）</i>
        }
    }
    </pre>



    <!---------------------------------------------------->
    <h2>5.消息 通知 的接口</h2>
    <em>
        消息内容包含：<br>
        1、注册师乐汇时<br>
        2、系统有活动，群发的消息<br>
        3、师乐汇中的其他用户关注你时<br>
        4、手机通讯录联系人、微信好友、qq好友、新浪微博关注的人注册了app时
    </em>
    <h3>接口名称：getMsgComment</h3>
    <h4>postData:</h4>
    <pre>
    {   
        <i>
        /*
        * 根据Header.UserId 来获取当前登录用户的一些相关消息
        */
        </i>
        Header: {
            UserId: <i>//---当前登录用户ID（未登录传空）</i>
            Auth: <i>//-----当前登录用户Auth（未登录传空）</i>
        }
    }
    </pre>

    <h4>getData:</h4>
    <pre>
    {   
        NoticeList: [
            {
                Author: {
                    UserId: <i>//-----用户 ID</i>
                    ImageUrl: <i>//---用户头像</i>
                    UserName: <i>//---用户名称</i>
                }

                isRead: <i>//---------是否已读(True/False)</i>

                UpdateTime: <i>//-----更新时间</i>
                Content: <i>//--------内容</i>
            }
        ]
        Total: <i>//------------------总数</i>
        
        <i>此处格式固定，服务器返回验证数据</i>
        Response: {
            Time: <i>//---------------服务器当前时间</i>
            State: <i>//--------------用户登录状态（True：用户登录成功；False：用户登录失败或者未登录）</i>
            Ack: <i>//----------------记录提交返回的状态（Success、Failure）</i>
        }
    }
    </pre>



    <!---------------------------------------------------->
    <h2>6.消息 私聊 的接口</h2>
    <em>聊天消息的最后一句话，每个用户（他）只有一条这样的记录</em>
    <h3>接口名称：getMsgTalk</h3>
    <h4>postData:</h4>
    <pre>
    {   
        <i>
        /*
        * 根据Header.UserId 来获取当前登录用户的一些相关消息
        */
        </i>
        Header: {
            UserId: <i>//---当前登录用户ID（未登录传空）</i>
            Auth: <i>//-----当前登录用户Auth（未登录传空）</i>
        }
    }
    </pre>

    <h4>getData:</h4>
    <pre>
    {   
        TalkList: [
            {
                Author: {
                    UserId: <i>//-----用户 ID</i>
                    ImageUrl: <i>//---用户头像</i>
                    UserName: <i>//---用户名称</i>
                }

                isRead: <i>//---------是否已读(True/False)</i>

                UpdateTime: <i>//-----更新时间</i>
                Content: <i>//--------内容</i>
            }
        ]
        Total: <i>//------------------总数</i>
        
        <i>此处格式固定，服务器返回验证数据</i>
        Response: {
            Time: <i>//---------------服务器当前时间</i>
            State: <i>//--------------用户登录状态（True：用户登录成功；False：用户登录失败或者未登录）</i>
            Ack: <i>//----------------记录提交返回的状态（Success、Failure）</i>
        }
    }
    </pre>
</body>
</html>